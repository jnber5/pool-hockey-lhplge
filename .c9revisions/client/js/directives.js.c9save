{"ts":1377744570600,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"'use strict';\n\nangular.module('angular-client-side-auth')\n.directive('accessLevel', ['Auth', function(Auth) {\n    return {\n        restrict: 'A',\n        link: function($scope, element, attrs) {\n            var prevDisp = element.css('display')\n                , userRole\n                , accessLevel;\n\n            $scope.user = Auth.user;\n            $scope.$watch('user', function(user) {\n                if(user.role)\n                    userRole = user.role;\n                updateCSS();\n            }, true);\n\n            attrs.$observe('accessLevel', function(al) {\n                if(al) accessLevel = $scope.$eval(al);\n                updateCSS();\n            });\n\n            function updateCSS() {\n                if(userRole && accessLevel) {\n                    if(!Auth.authorize(accessLevel, userRole))\n                        element.css('display', 'none');\n                    else\n                        element.css('display', prevDisp);\n                }\n            }\n        }\n    };\n}]);\n\nangular.module('angular-client-side-auth').directive('activeNav', ['$location', function($location) {\n    return {\n        restrict: 'A',\n        link: function(scope, element, attrs) {\n            var nestedA = element.find('a')[0];\n            var path = nestedA.href;\n\n            scope.location = $location;\n            scope.$watch('location.absUrl()', function(newPath) {\n                if (path === newPath) {\n                    element.addClass('active');\n                } else {\n                    element.removeClass('active');\n                }\n            });\n        }\n\n    };\n\n}]);"]],"start1":0,"start2":0,"length1":0,"length2":1611}]],"length":1611}
{"contributors":[],"silentsave":false,"ts":1378671707509,"patch":[[{"diffs":[[0,"e-auth')"],[1,"\n"],[0,".directi"]],"start1":1046,"start2":1046,"length1":16,"length2":17}]],"length":1612,"saved":false}
{"contributors":[],"silentsave":false,"ts":1378825009409,"patch":[[{"diffs":[[0,"le('"],[-1,"angular-client-side-auth"],[1,"lhplge"],[0,"')\n."]],"start1":27,"start2":27,"length1":32,"length2":14},{"diffs":[[0,"le('"],[-1,"angular-client-side-auth"],[1,"lhplge"],[0,"')\n."]],"start1":1006,"start2":1006,"length1":32,"length2":14}]],"length":1576,"saved":false}
